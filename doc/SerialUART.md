# SerialUART

本クラスは、Wio(3G, LTE, LTE N1/NB1)ボードに付属のUARTを通してシリアル通信する場合に使用するクラスです。

## 初期化

```ruby
wio = Wio.new
wio.power_supply_grove(true)   # Groveの電源をON
uart = SerialUART.new(9600)    # シリアルポートのスピードを9600bps,パリティ無しで初期化
```

#### 引数

|引数|説明|
|:--|:--|
|speed|通信速度|
|parity|パリティ(0:無し 1:奇数 2:偶数)。デフォルトは「無し」|

#### 説明

UART通信オブジェクトを初期化します。パリティは省略可能です。
データ長は8ビット固定、ストップビットは1ビット固定です。


### print

```ruby
uart.print "hello uart"
```

#### 引数

|引数|説明|
|:--|:--|
|str|書き込む文字列|

#### 説明

Serial通信を通してデータを書き込みます。

### read

```ruby
chr = uart.read
```

#### 戻り値

|説明|
|:--|
|取得成功したときは1文字の文字列、失敗したときはnilを返します。|

#### 説明

Serial通信を通してデータを1バイト読み込みます。

### gets

```ruby
chr = uart.gets
```

#### 引数

|引数|説明|
|:--|:--|
|eol|行末を判断する改行文字。デフォルトは'\r'。|

#### 戻り値

|説明|
|:--|
|取得成功したときは文字列、失敗したときはnilを返します。|

#### 説明

Serial通信を通してデータを改行文字が現れるまで読み込みます。

### available

```ruby
size = uart.available
```

#### 戻り値

|説明|
|:--|
|バッファから読込可能なバイト数|

#### 説明

バッファから読込可能なデータのバイト数を返します。

### clear!

```ruby
uart.clear!
```

#### 説明

バッファにたまっているデータを全て破棄します。

### wait_ready

```ruby
uart_wait_ready(10)
```

#### 引数

|引数|説明|
|:--|:--|
|wait_str_len|バッファにたまるのを待つバイト数。デフォルトは1|

#### 説明

バッファに指定バイト数たまるまで処理をブロックして待機します。
